{% if namespace %}
package {{ namespace }};
{% endif %}

import app.sdkgen.client.ClientAbstract;
import app.sdkgen.client.Credentials.*;
import app.sdkgen.client.Exception.ClientException;
import app.sdkgen.client.Exception.UnkownStatusCodeException;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.client.utils.URIBuilder;
import org.apache.http.entity.ContentType;
import org.apache.http.entity.StringEntity;
import org.apache.http.util.EntityUtils;

import java.time.LocalDate;
import java.time.LocalDateTime;
import java.util.HashMap;
import java.util.Map;

public class {{ className }} extends ClientAbstract {
{% for tag in tags %}
    public function {{ tag.className }} {{ tag.methodName }}()
    {
        return new {{ tag.className }}(
            $this->httpClient,
            $this->parser
        );
    }

{% endfor %}
{{ operations|raw }}

{% if security.type == 'httpBasic' %}
    public static {{ className }} build({% if not baseUrl %}String baseUrl, {% endif %}String userName, String password): {{ className }}
    {
{% if not baseUrl %}
        return new {{ className }}(baseUrl, new HttpBasic(userName, password));
{% else %}
        return new {{ className }}('{{ baseUrl }}', new HttpBasic(userName, password));
{% endif %}
    }
{% elseif security.type == 'httpBearer' %}
    public static {{ className }} build({% if not baseUrl %}String baseUrl, {% endif %}String token): {{ className }}
    {
{% if not baseUrl %}
        return new {{ className }}(baseUrl, new HttpBearer(token));
{% else %}
        return new {{ className }}('{{ baseUrl }}', new HttpBearer(token));
{% endif %}
    }
{% elseif security.type == 'apiKey' %}
    public static {{ className }} build({% if not baseUrl %}String baseUrl, {% endif %}String token): {{ className }}
    {
{% if not baseUrl %}
        return new {{ className }}(baseUrl, new ApiKey(token, '{{ security.name }}', '{{ security.in }}'));
{% else %}
        return new {{ className }}('{{ baseUrl }}', new ApiKey(token, '{{ security.name }}', '{{ security.in }}'));
{% endif %}
    }
{% elseif security.type == 'oauth2' %}
    public static {{ className }} build({% if not baseUrl %}String baseUrl, {% endif %}String clientId, String clientSecret, TokenStoreInterface tokenStore, List<String> scopes): {{ className }}
    {
{% if not baseUrl %}
        return new {{ className }}(baseUrl, new OAuth2(clientId, clientSecret, '{{ security.tokenUrl }}', '{{ security.authorizationUrl }}', tokenStore, scopes));
{% else %}
        return new {{ className }}('{{ baseUrl }}', new OAuth2(clientId, clientSecret, '{{ security.tokenUrl }}', '{{ security.authorizationUrl }}', tokenStore, scopes));
{% endif %}
    }
{% endif %}
}
